# 世界大战模拟器 (World War Simulator) - MaiBot 插件

一个功能丰富的 MaiBot 插件，允许用户在一个共享的虚拟世界中创建国家、招募军队、结盟、战斗和掠夺领土。
**本项目采用 GPLv3 许可证，任何修改或衍生版本必须开源并注明修改内容。**

*   **本项目请自觉遵守国家网络相关法律法规，否则在更远的版本我们将使用强制监管**
## 功能特性

*   **国家系统**: 加入或创建自己的国家。
*   **军队管理**: 拥有初始兵力，领袖可以转移兵力给同国玩家。
*   **领土争夺**: 与其他国家进行战斗 (`/pvp`) 或掠夺领土 (`/conquer`)。
*   **外交关系**: 与其他国家结盟 (`/ally`) 或解除盟约 (`/withdraw`)。
*   **国家建设**: 部署军队防守领土 (`/deploy`)，设置国家制度 (`/set_ideology`)，任命官员 (`/appoint`)。
*   **等级军衔**: 拥有从士兵到上将的多种军衔。
*   **动态世界**: 基于 Elo 评分系统的国家实力评估。
*   **公屏系统**（测试）: 重要的战斗、结盟、国家创建等事件会广播到指定的公屏群（默认 `12345678`）。
*   **随机事件**: 游戏世界中会周期性地发生影响国家的随机事件（如丰收、瘟疫、技术突破等）。
*   **信息查询**:
    *   `/my`: 查看自己的信息。
    *   `/nation`: 查看自己国家的详细信息。
    *   `/friends`: 查看当前盟友列表。
    *   `/world`: 查看全球所有国家的概览。
    *   `/help`: 显示帮助菜单。

## 安装与配置

1.  **放置插件**: 将包含此插件代码 (`plugin.py`) 和 `_manifest.json` 的文件夹放入 MaiBot 的 `plugins` 目录下。
2.  **重启 MaiBot**: 启动或重启你的 MaiBot 实例。
3.  **配置文件**: 首次加载时，插件会自动生成 `config.toml` 文件。你可以根据需要修改此文件来调整插件行为（例如启用/禁用命令、设置初始兵力、调整 Elo K 因子、更改公屏群号等）。请勿手动创建此文件，应通过修改代码中的 `config_schema` 来管理配置结构。
4.  **Manifest 文件**: 确保 `_manifest.json` 文件存在并正确描述了插件信息。可以使用 MaiBot 提供的 `manifest_tool.py` 工具进行验证或生成。
5.  **权限**: 确保插件有权限向配置中指定的公屏群（默认 `12345678`）发送消息。
6.  **Game_data**: 游戏数据保存在`./World/data`中

## 使用方法

在支持的聊天环境中，向机器人发送以下命令：

*   `/join <国家名>`: 加入一个现有国家，或创建一个名为 `<国家名>` 的新国家。
*   `/my`: 查看你的个人信息和所属国家。
*   `/nation`: 查看你自己国家的详细信息。
*   `/world`: 查看当前世界中所有国家的列表和基本概况。
*   `/friends`: 查看你当前国家的盟友列表。
*   `/pvp <国家名> <出兵数量>`: 向 `<国家名>` 发起一场战斗，投入 `<出兵数量>` 的兵力。
*   `/conquer <国家名> <出兵数量>`: 向 `<国家名>` 发起掠夺领土行动，投入 `<出兵数量>` 的兵力。
*   `/ally <国家名>`: (领袖) 与 `<国家名>` 结成盟友。
*   `/withdraw <国家名>`: (领袖) 解除与 `<国家名>` 的盟友关系。
*   `/deploy <数量>`: 在你的国家领土上部署兵力（正数）或撤回兵力（负数）。
*   `/transfer <用户ID> <兵力数量>`: (领袖) 将 `<兵力数量>` 的兵力转移给同国的 `<用户ID>`。
*   `/appoint <用户ID> <军衔>`: (领袖) 任命 `<用户ID>` 为指定 `<军衔>`。
*   `/set_ideology <制度>`: (领袖) 为你的国家设定一种政治制度（如民主、共和、君主等）。
*   `/help`: 显示所有可用命令的帮助信息。

## 数据存储

插件数据存储在插件目录下的 `game_data.json` 文件中。该文件包含了所有玩家、国家、联盟和随机事件时间戳的信息。请勿手动编辑此文件，以免造成数据损坏。

## 协议

本项目采用 **GNU General Public License v3.0** (GPLv3) 协议开源。

**简而言之**：
*   你可以自由地运行、研究、分享（复制）和修改本软件。
*   如果你分发修改后的版本，也必须以 GPLv3 协议开源。
*   你不可以添加额外的限制条款来剥夺或削减 GPLv3 赋予用户的权利。
*   该软件不提供任何担保。

详情请参见 [LICENSE](LICENSE) 文件。

## 免责声明

本插件仅供娱乐和学习交流使用。作者不对因使用本插件而产生的任何直接或间接后果负责。
